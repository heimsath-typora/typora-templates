/* ==========================================================================
   Typora GitHub Compact – Norbert Edition
   Variant: ColorPrint 15px, All Blue-Gray Headings, H1 Double Underline
   Date: 2025-09-20
   - Screen: 16px base
   - Print/PDF: 15px (color-preserving)
   - Headings H1–H6: unified blue‑gray, slightly darker
   - H1/H2 keep underline (H1 uses double line)
   - Tighter spacing for headings and content
   - H7 removed
   - Strong overrides at the end to ensure export/print consistency
   ========================================================================== */

/* ---------------- Variables ---------------- */
:root {
  --side-bar-bg-color: #fafafa;
  --control-text-color: #777;
  /* slightly darker blue‑gray for all headings */
  --heading-color: #2E5E8E; /* darker than #2E74B5 */
}

/* ---------------- Base ---------------- */
html {
  font-size: 16px; /* screen base font size */
  -webkit-font-smoothing: antialiased;
}
body {
  font-family: "Open Sans","Clear Sans","Helvetica Neue",Helvetica,Arial,'Segoe UI Emoji','SF Pro',sans-serif;
  color: #282828;
  line-height: 1.55;
}

#write {
  max-width: 860px;
  margin: 0 auto;
  padding: 30px;
  padding-bottom: 100px;
}
@media only screen and (min-width: 1400px) { #write { max-width: 1024px; } }
@media only screen and (min-width: 1800px) { #write { max-width: 1200px; } }

#write > ul:first-child,
#write > ol:first-child { margin-top: 30px; }

a { color: #4183C4; }

/* ---------------- Headings (H1–H6) ----------------
   - Unified color (blue‑gray)
   - H1/H2 underlined (H1 uses double underline)
   - H4 closer to H3 in size
--------------------------------------------------- */
h1, h2, h3, h4, h5, h6 {
  position: relative;
  margin-top: 1.1rem;
  margin-bottom: 0.45rem;
  font-weight: 600;
  line-height: 1.3;
  cursor: text;
  color: var(--heading-color);
}
h1 tt, h1 code,
h2 tt, h2 code,
h3 tt, h3 code,
h4 tt, h4 code,
h5 tt, h5 code,
h6 tt, h6 code { font-size: inherit; }

/* Size hierarchy */
h1 {
  font-size: 1.70em;
  line-height: 1.2;
  /* double underline for H1 */
  border-bottom: 3px double #bbb;
  padding-bottom: 0.30em;
}
h2 {
  font-size: 1.40em;
  line-height: 1.25;
  border-bottom: 1px solid #ccc;
  padding-bottom: 0.15em;
}
h3 { font-size: 1.25em; border-bottom: none; }
h4 { font-size: 1.20em; } /* brought closer to H3 */
h5 { font-size: 1.10em; }
h6 { font-size: 1.05em; }

/* Reduce top margin for the first heading in the document */
#write > h1:first-child,
#write > h2:first-child,
#write > h3:first-child,
#write > h4:first-child,
#write > h5:first-child,
#write > h6:first-child {
  margin-top: 0.25rem;
}

/* ---------------- Text, Lists, Quotes ---------------- */
p, blockquote, ul, ol, dl, table { margin: 0.7em 0; }
ul, ol { padding-left: 1.4em; }
li { margin: 0.15em 0; }
li > p { margin: 0.25em 0; }

blockquote {
  border-left: 3px solid #bbb;
  padding: 0.45em 0.9em;
  color: #333;
}

/* ---------------- Horizontal Rule ---------------- */
hr {
  height: 2px;
  padding: 0;
  margin: 16px 0;
  background-color: #e7e7e7;
  border: 0 none;
  overflow: hidden;
  box-sizing: content-box;
}

/* ---------------- Tables ---------------- */
table {
  padding: 0;
  word-break: initial;
  margin: 0.7em 0;
}
table tr { border: 1px solid #dfe2e5; margin: 0; padding: 0; }
table tr:nth-child(2n), thead { background-color: #f8f8f8; }
table th {
  font-weight: 600;
  border: 1px solid #dfe2e5;
  border-bottom: 0;
  margin: 0;
  padding: 6px 13px;
}
table td {
  border: 1px solid #dfe2e5;
  margin: 0;
  padding: 6px 13px;
}

/* ---------------- Code ---------------- */
.md-fences, code, tt {
  border: 1px solid #e7eaed;
  background-color: #f8f8f8;
  border-radius: 3px;
  padding: 2px 4px 0 4px;
  font-size: 0.95em;
}
code { background-color: #f3f4f4; padding: 0 2px; }
.md-fences {
  margin: 0.7em 0;
  padding-top: 8px;
  padding-bottom: 6px;
  line-height: 1.35;
}

/* ---------------- YAML/Front‑Matter Block ---------------- */
#write pre.md-meta-block {
  padding: 1rem;
  font-size: 85%;
  line-height: 1.45;
  background-color: #f7f7f7;
  border: 0;
  border-radius: 3px;
  color: #777777;
  margin-top: 0 !important;
}

/* ---------------- Print/PDF (color‑preserving) ---------------- */
@media print {
  html { font-size: 15px; } /* print base font size */
  body {
    color: #000;
    -webkit-print-color-adjust: exact;
    print-color-adjust: exact;
  }
  a { color: #000; text-decoration: underline; }

  /* keep heading color in print */
  h1, h2, h3, h4, h5, h6 { color: var(--heading-color); }
  /* keep underlines in print (double for H1) */
  h1 { border-bottom: 3px double #999; }
  h2 { border-bottom: 1px solid #999; }

  /* compact print spacing */
  h1, h2, h3, h4, h5, h6 { margin-top: 0.9rem; margin-bottom: 0.28rem; }
  p { margin: 0.45em 0 0.55em; }
  ul, ol { margin: 0.35em 0 0.55em 1.2em; }

  /* avoid bad page breaks around headings */
  h1, h2, h3 { break-after: avoid; }
  h1, h2, h3, h4, h5, h6, p, li, pre, table { break-inside: avoid; }

  /* page margins */
  @page { margin: 16mm 14mm; }
}

/* ---------------- Hard Overrides (Export/Print consistency) ---------------- */
html { font-size: 16px !important; }
body, #write, .typora-export { font-size: 1rem !important; line-height: 1.55 !important; }
.typora-export html, .typora-export body { font-size: 16px !important; line-height: 1.55 !important; }
@media print {
  html { font-size: 15px !important; } /* enforce 15px in print */
  body, #write, .typora-export { font-size: 1rem !important; line-height: 1.55 !important; }
}
